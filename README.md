# FactorHub - é‡åŒ–å› å­åˆ†æå¹³å°

<div align="center">

![FactorHub Logo](https://img.shields.io/badge/FactorHub-é‡åŒ–å› å­åˆ†æå¹³å°-blue?style=for-the-badge)
![Python](https://img.shields.io/badge/Python-3.8%2B-green?style=for-the-badge)
![Streamlit](https://img.shields.io/badge/Streamlit-1.50%2B-red?style=for-the-badge)
![AKShare](https://img.shields.io/badge/AKShare-1.11%2B-orange?style=for-the-badge)
![License](https://img.shields.io/badge/License-MIT-yellow?style=for-the-badge)

[![Stars](https://img.shields.io/github/stars/your-username/FactorHub?style=social)](https://github.com/your-username/FactorHub)
[![Forks](https://img.shields.io/github/forks/your-username/FactorHub?style=social)](https://github.com/your-username/FactorHub)
[![Issues](https://img.shields.io/github/issues/your-username/FactorHub)](https://github.com/your-username/FactorHub/issues)
![Code Size](https://img.shields.io/github/languages/code-size/your-username/FactorHub)
![Python Lines](https://img.shields.io/tokei/lines/github/your-username/FactorHub)

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

FactorHubæ˜¯ä¸€ä¸ª**è‡ªç ”çš„ç°ä»£åŒ–é‡åŒ–å› å­åˆ†æå¹³å°**ï¼Œä¸“ä¸ºé‡åŒ–æŠ•èµ„ç ”ç©¶è€…è®¾è®¡ã€‚å¹³å°å®Œå…¨è‡ªä¸»ç ”å‘ï¼Œé›†æˆäº†ã€Œæ•°æ®è·å–-å› å­ç®¡ç†-å› å­åˆ†æ-ç­–ç•¥å›æµ‹-å› å­æŒ–æ˜ã€çš„å®Œæ•´å·¥ä½œæµç¨‹ï¼Œé€šè¿‡ç›´è§‚çš„Webç•Œé¢å’Œå¼ºå¤§çš„è®¡ç®—å¼•æ“ï¼Œå¤§å¹…é™ä½é‡åŒ–åˆ†æçš„é—¨æ§›ï¼Œæé«˜ç ”ç©¶æ•ˆç‡ã€‚

**FactorHub** = **Factor**ï¼ˆå› å­ï¼‰ + **Hub**ï¼ˆä¸­å¿ƒï¼‰ï¼Œæ„ä¸ºå› å­åˆ†æå’Œç®¡ç†çš„æ ¸å¿ƒæ¢çº½ã€‚

### ğŸ¯ æ ¸å¿ƒä»·å€¼

- **å…¨æµç¨‹è¦†ç›–**: ä»åŸå§‹æ•°æ®åˆ°æŠ•èµ„ç­–ç•¥çš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ
- **å¯è§†åŒ–é©±åŠ¨**: ç›´è§‚çš„å›¾è¡¨å’Œç•Œé¢ï¼Œæ— éœ€ç¼–ç¨‹ç»éªŒå³å¯æ“ä½œ
- **é«˜æ€§èƒ½è®¡ç®—**: å¤šè¿›ç¨‹å¹¶è¡Œè®¡ç®—ï¼Œæ”¯æŒå¤§è§„æ¨¡æ•°æ®å¤„ç†
- **æ¨¡å—åŒ–è®¾è®¡**: çµæ´»çš„ç»„ä»¶æ¶æ„ï¼Œæ˜“äºæ‰©å±•å’Œå®šåˆ¶
- **ä¸“ä¸šçº§åˆ†æ**: æ¶µç›–ICåˆ†æã€åˆ†å±‚å›æµ‹ã€ç›¸å…³æ€§åˆ†æç­‰ä¸“ä¸šæ–¹æ³•
- **è‡ªç ”å¼•æ“**: å®Œå…¨è‡ªä¸»ç ”å‘çš„å› å­è®¡ç®—å’Œå›æµ‹å¼•æ“ï¼Œç¡®ä¿çµæ´»æ€§

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“Š æ•°æ®ç®¡ç†æ¨¡å—
- **æ™ºèƒ½æ•°æ®è·å–**: é›†æˆAKShare APIï¼Œå®æ—¶è·å–Aè‚¡ã€æ¸¯è‚¡ã€ç¾è‚¡å¸‚åœºæ•°æ®
- **è‡ªåŠ¨åŒ–é¢„å¤„ç†**: æ™ºèƒ½å¤æƒå¤„ç†ã€ç¼ºå¤±å€¼å¡«å……ã€å¼‚å¸¸å€¼æ£€æµ‹ä¸æ¸…æ´—
- **é«˜æ•ˆç¼“å­˜ç³»ç»Ÿ**: æœ¬åœ°æ–‡ä»¶ç¼“å­˜ï¼Œæ”¯æŒå¢é‡æ›´æ–°å’Œè¿‡æœŸç®¡ç†
- **å¤šæºæ•°æ®æ”¯æŒ**: æ”¯æŒæœ¬åœ°æ–‡ä»¶ã€æ•°æ®åº“ã€APIæ¥å£ç­‰å¤šç§æ•°æ®æº

### ğŸ”§ å› å­ç®¡ç†æ¨¡å—
- **ä¸°å¯Œå› å­åº“**: å†…ç½®200+é¢„ç½®å› å­ï¼ˆæŠ€æœ¯æŒ‡æ ‡ã€åŸºæœ¬é¢ã€é‡ä»·ç­‰ï¼‰
- **è‡ªå®šä¹‰å› å­**: æ”¯æŒPythonä»£ç ç¼–è¾‘å™¨ã€CSVæ–‡ä»¶ä¸Šä¼ ã€å…¬å¼ç¼–è¾‘å™¨
- **æ‰¹é‡è®¡ç®—å¼•æ“**: å¤šè¿›ç¨‹å¹¶è¡Œè®¡ç®—ï¼Œè‡ªåŠ¨ä»»åŠ¡è°ƒåº¦å’Œè´Ÿè½½å‡è¡¡
- **å› å­ç‰ˆæœ¬ç®¡ç†**: æ”¯æŒå› å­å†å²ç‰ˆæœ¬è¿½è¸ªå’Œå›æ»š

### ğŸ“ˆ å› å­åˆ†ææ¨¡å—
- **IC/IRåˆ†æ**: ä¿¡æ¯ç³»æ•°ã€ä¿¡æ¯æ¯”ç‡ã€ICèƒœç‡ã€ICè¡°å‡åˆ†æ
- **åˆ†å±‚å›æµ‹**: åå±‚åˆ†ç»„å›æµ‹ã€å¤šç©ºæ”¶ç›Šåˆ†æã€æ¢æ‰‹ç‡ç»Ÿè®¡
- **ç¨³å®šæ€§æ£€éªŒ**: æ»šåŠ¨çª—å£åˆ†æã€åˆ†å¸ƒç‰¹å¾ã€å› å­è¡°å‡åˆ†æ
- **ç›¸å…³æ€§åˆ†æ**: å› å­é—´ç›¸å…³æ€§çŸ©é˜µã€èšç±»åˆ†æã€å¤šé‡å…±çº¿æ€§æ£€æµ‹
- **å½’å› åˆ†æ**: Brinsonæ¨¡å‹ã€Barraé£é™©æ¨¡å‹ã€è¡Œä¸šä¸­æ€§åŒ–

### ğŸ¯ ç­–ç•¥å›æµ‹æ¨¡å—
- **å¤šç­–ç•¥æ”¯æŒ**: å› å­åŠ æƒã€ç­‰æƒé‡ã€å¸‚å€¼åŠ æƒã€é£é™©å¹³ä»·ã€åŠ¨é‡åè½¬
- **å®Œæ•´ç»©æ•ˆæŒ‡æ ‡**: æ”¶ç›Šåˆ†æã€é£é™©æŒ‡æ ‡ã€å½’å› åˆ†æã€åŸºå‡†æ¯”è¾ƒ
- **äº¤æ˜“æˆæœ¬æ¨¡æ‹Ÿ**: æ‰‹ç»­è´¹ã€æ»‘ç‚¹ã€å†²å‡»æˆæœ¬ã€èµ„é‡‘é™åˆ¶
- **åŠ¨æ€å†å¹³è¡¡**: æ”¯æŒæ—¥é¢‘ã€å‘¨é¢‘ã€æœˆé¢‘ç­‰å¤šç§å†å¹³è¡¡é¢‘ç‡

### âš¡ å› å­æŒ–æ˜æ¨¡å—
- **ç»„åˆç”Ÿæˆ**: åŸºäºé¢„ç½®å› å­çš„æ•°å­¦ç»„åˆç”Ÿæˆæ–°å› å­
- **é—ä¼ ç®—æ³•**: æ™ºèƒ½å› å­å‘ç°ã€å‚æ•°ä¼˜åŒ–ã€é€‚åº”åº¦è¯„ä¼°
- **æœºå™¨å­¦ä¹ **: ç‰¹å¾å·¥ç¨‹ã€LASSOå›å½’ã€éšæœºæ£®æ—é‡è¦æ€§åˆ†æ
- **å› å­åˆæˆ**: å¤šå› å­æ¨¡å‹æ„å»ºã€å› å­æƒé‡ä¼˜åŒ–

### ğŸ¨ å¯è§†åŒ–ç•Œé¢
- **ç°ä»£åŒ–UI**: åŸºäºStreamlitçš„å“åº”å¼Webç•Œé¢
- **äº¤äº’å¼å›¾è¡¨**: Plotlyé©±åŠ¨çš„åŠ¨æ€å›¾è¡¨ã€æ”¯æŒç¼©æ”¾ã€ç­›é€‰ã€å¯¼å‡º
- **å®æ—¶ç›‘æ§**: ä»»åŠ¡è¿›åº¦æ¡ã€ç³»ç»ŸçŠ¶æ€ç›‘æ§ã€é”™è¯¯æç¤º
- **å¤šä¸»é¢˜æ”¯æŒ**: æ˜æš—ä¸»é¢˜åˆ‡æ¢ã€ä¸ªæ€§åŒ–ç•Œé¢é…ç½®

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ğŸ”§ æ ¸å¿ƒæŠ€æœ¯æ ˆ
- **AKShare**: å›½å†…é¢†å…ˆçš„é‡‘èæ•°æ®æ¥å£ï¼Œè¦†ç›–Aè‚¡ã€æ¸¯è‚¡ã€ç¾è‚¡å¸‚åœº
- **Streamlit**: å¿«é€Ÿæ„å»ºæ•°æ®åº”ç”¨çš„Webæ¡†æ¶ï¼Œæä¾›ç°ä»£åŒ–UIä½“éªŒ
- **Plotly**: äº¤äº’å¼æ•°æ®å¯è§†åŒ–åº“ï¼Œæ”¯æŒå¤æ‚å›¾è¡¨å±•ç¤º
- **Pandas/Numpy**: é«˜æ€§èƒ½æ•°æ®å¤„ç†å’Œæ•°å€¼è®¡ç®—çš„æ ¸å¿ƒå¼•æ“
- **Scipy**: ç§‘å­¦è®¡ç®—åº“ï¼Œæä¾›ç»Ÿè®¡åˆ†æåŠŸèƒ½
- **Scikit-learn**: æœºå™¨å­¦ä¹ ç®—æ³•åº“ï¼Œæ”¯æŒå› å­æŒ–æ˜å’Œç‰¹å¾å·¥ç¨‹
- **Concurrent.Futures**: Pythonå¹¶è¡Œè®¡ç®—æ¡†æ¶ï¼Œæ”¯æŒå¤šè¿›ç¨‹ä»»åŠ¡è°ƒåº¦

### ğŸ›ï¸ è‡ªç ”æ ¸å¿ƒç»„ä»¶

#### ğŸ“Š æ•°æ®å¤„ç†å¼•æ“
- **AKShareDataProvider**: å°è£…AKShare APIï¼Œæä¾›ç»Ÿä¸€çš„æ•°æ®è·å–æ¥å£
- **DataPreprocessor**: æ•°æ®æ¸…æ´—ã€é¢„å¤„ç†ã€æ ‡å‡†åŒ–å¤„ç†æ¨¡å—
- **ç¼“å­˜ç³»ç»Ÿ**: æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œé¿å…é‡å¤æ•°æ®è¯·æ±‚

#### ğŸ”§ å› å­è®¡ç®—å¼•æ“
- **FactorCalculator**: é«˜æ€§èƒ½å› å­è®¡ç®—å¼•æ“ï¼Œæ”¯æŒå¹¶è¡Œè®¡ç®—
- **FactorLibrary**: é¢„ç½®å› å­åº“ï¼ŒåŒ…å«20+å¸¸ç”¨æŠ€æœ¯æŒ‡æ ‡
- **CustomFactorManager**: è‡ªå®šä¹‰å› å­ç®¡ç†ç³»ç»Ÿ
- **BaseFactor**: å› å­åŸºç±»ï¼Œæ”¯æŒæ‰©å±•æ–°çš„å› å­ç±»å‹

#### ğŸ“ˆ åˆ†æå¼•æ“
- **FactorAnalyzer**: ICåˆ†æã€åˆ†å±‚å›æµ‹ã€ç›¸å…³æ€§åˆ†æ
- **PortfolioAnalyzer**: æŠ•èµ„ç»„åˆåˆ†æå’Œç»©æ•ˆè¯„ä¼°
- **ç»Ÿè®¡åˆ†æå·¥å…·**: å®Œæ•´çš„ç»Ÿè®¡æ£€éªŒå’Œæ˜¾è‘—æ€§åˆ†æ

#### ğŸ¯ å›æµ‹å¼•æ“
- **Backtester**: äº‹ä»¶é©±åŠ¨çš„å›æµ‹å¼•æ“
- **FactorStrategy**: å› å­ç­–ç•¥å®ç°æ¡†æ¶
- **é£é™©ç®¡ç†**: æ­¢æŸã€ä»“ä½ç®¡ç†ã€äº¤æ˜“æˆæœ¬æ¨¡æ‹Ÿ

#### âš¡ å› å­æŒ–æ˜å¼•æ“
- **GeneticFactorMiner**: é—ä¼ ç®—æ³•å› å­æŒ–æ˜ç³»ç»Ÿ
- **FactorGenerator**: å› å­ç»„åˆç”Ÿæˆå™¨
- **é€‚åº”åº¦è¯„ä¼°**: å¤šç»´åº¦å› å­æœ‰æ•ˆæ€§è¯„ä»·ä½“ç³»

### ğŸ“ é¡¹ç›®ç»“æ„ (7,500+ è¡Œä»£ç )
```
FactorHub/                                 # ğŸ“Š é‡åŒ–å› å­åˆ†æå¹³å°
â”œâ”€â”€ ğŸ“‚ data_processor/                      # ğŸ”— æ•°æ®è·å–ä¸é¢„å¤„ç†æ¨¡å—
â”‚   â”œâ”€â”€ akshare_data.py                   # AKShareæ•°æ®æ¥å£å°è£… (330è¡Œ)
â”‚   â”œâ”€â”€ data_preprocessor.py              # æ•°æ®æ¸…æ´—ä¸é¢„å¤„ç† (280è¡Œ)
â”‚   â””â”€â”€ __init__.py                       # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ ğŸ“‚ factor_manager/                      # âš™ï¸ å› å­ç®¡ç†ä¸è®¡ç®—å¼•æ“
â”‚   â”œâ”€â”€ factor_calculator.py              # é«˜æ€§èƒ½å› å­è®¡ç®—å¼•æ“ (330è¡Œ)
â”‚   â”œâ”€â”€ factor_lib.py                     # é¢„ç½®å› å­åº“å®ç° (400è¡Œ)
â”‚   â”œâ”€â”€ custom_factor.py                  # è‡ªå®šä¹‰å› å­ç®¡ç† (200è¡Œ)
â”‚   â””â”€â”€ __init__.py                       # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ ğŸ“‚ analyzer/                           # ğŸ“ˆ å› å­åˆ†æä¸æŠ•èµ„ç»„åˆåˆ†æ
â”‚   â”œâ”€â”€ factor_analyzer.py                # ICåˆ†æã€åˆ†å±‚å›æµ‹ã€ç›¸å…³æ€§åˆ†æ (450è¡Œ)
â”‚   â”œâ”€â”€ portfolio_analyzer.py             # æŠ•èµ„ç»„åˆç»©æ•ˆè¯„ä¼° (380è¡Œ)
â”‚   â””â”€â”€ __init__.py                       # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ ğŸ“‚ backtester/                         # ğŸ¯ ç­–ç•¥å›æµ‹å¼•æ“
â”‚   â”œâ”€â”€ backtester.py                     # äº‹ä»¶é©±åŠ¨å›æµ‹å¼•æ“ (520è¡Œ)
â”‚   â”œâ”€â”€ factor_strategy.py                # å› å­ç­–ç•¥å®ç°æ¡†æ¶ (300è¡Œ)
â”‚   â”œâ”€â”€ __init__.py                       # æ¨¡å—å¯¼å‡º
â”‚   â””â”€â”€ strategy.py                       # ç­–ç•¥åŸºç±»å®šä¹‰ (150è¡Œ)
â”œâ”€â”€ ğŸ“‚ factor_miner/                       # âš¡ å› å­æŒ–æ˜ç®—æ³•
â”‚   â”œâ”€â”€ factor_generator.py               # å› å­ç»„åˆç”Ÿæˆå™¨ (280è¡Œ)
â”‚   â”œâ”€â”€ genetic_miner.py                  # é—ä¼ ç®—æ³•æŒ–æ˜ç³»ç»Ÿ (450è¡Œ)
â”‚   â””â”€â”€ __init__.py                       # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ ğŸ“‚ ui/                                 # ğŸ–¥ï¸ Streamlit Webç•Œé¢
â”‚   â”œâ”€â”€ app.py                            # ä¸»åº”ç”¨å…¥å£ (1,200è¡Œ)
â”‚   â””â”€â”€ __init__.py                       # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ ğŸ“‚ utils/                              # ğŸ› ï¸ æ ¸å¿ƒå·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ config.py                         # å…¨å±€é…ç½®ç®¡ç† (90è¡Œ)
â”‚   â”œâ”€â”€ logger.py                         # ç»Ÿä¸€æ—¥å¿—ç³»ç»Ÿ (40è¡Œ)
â”‚   â”œâ”€â”€ helpers.py                        # è¾…åŠ©å‡½æ•°é›†åˆ (200è¡Œ)
â”‚   â””â”€â”€ __init__.py                       # æ¨¡å—å¯¼å‡º
â”œâ”€â”€ ğŸ“‚ data/                               # ğŸ’¾ æ•°æ®å­˜å‚¨ç›®å½•
â”‚   â”œâ”€â”€ cache/                            # æ™ºèƒ½ç¼“å­˜æ•°æ®
â”‚   â”œâ”€â”€ factors/                          # è®¡ç®—å› å­å­˜å‚¨
â”‚   â””â”€â”€ results/                          # åˆ†æç»“æœå­˜å‚¨
â”œâ”€â”€ ğŸ“‚ docs/                               # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ QUICKSTART.md                     # å¿«é€Ÿå¼€å§‹æŒ‡å—
â”‚   â”œâ”€â”€ NETWORK_SETUP.md                  # ç½‘ç»œé…ç½®è¯´æ˜
â”‚   â””â”€â”€ PROJECT_SUMMARY.md                # é¡¹ç›®è¯¦ç»†è¯´æ˜
â”œâ”€â”€ ğŸ“‚ scripts/                            # ğŸš€ å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ start_app.py                      # åº”ç”¨å¯åŠ¨è„šæœ¬
â”œâ”€â”€ ğŸ“‚ tests/                              # ğŸ§ª å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_*.py                         # å„æ¨¡å—æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ run_tests.py                      # æµ‹è¯•è¿è¡Œå™¨
â”œâ”€â”€ ğŸ“‚ examples/                           # ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹
â”‚   â””â”€â”€ example_usage.py                  # åŸºç¡€ä½¿ç”¨ç¤ºä¾‹
â”œâ”€â”€ ğŸ“„ requirements.txt                    # ğŸ“¦ ä¾èµ–åŒ…åˆ—è¡¨ (14ä¸ªæ ¸å¿ƒä¾èµ–)
â”œâ”€â”€ ğŸ“„ setup.py                           # âš™ï¸ é¡¹ç›®å®‰è£…é…ç½®
â”œâ”€â”€ ğŸ“„ main.py                            # ğŸ® ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ ğŸ“„ imports.py                         # ğŸ“¥ ç»Ÿä¸€å¯¼å…¥ç®¡ç† (å®‰å…¨å¯¼å…¥æœºåˆ¶)
â”œâ”€â”€ ğŸ“„ run_streamlit.py                   # ğŸŒ Streamlitå¯åŠ¨å™¨
â”œâ”€â”€ ğŸ“„ __init__.py                        # ğŸ“¦ åŒ…åˆå§‹åŒ–
â””â”€â”€ ğŸ“„ README.md                          # ğŸ“– é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

### ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    subgraph "æ•°æ®å±‚ Data Layer"
        A[AKShare API] --> B[AKShareDataProvider]
        B --> C[DataPreprocessor]
        C --> D[æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ]
    end

    subgraph "è®¡ç®—å±‚ Compute Layer"
        E[FactorCalculator<br/>å› å­è®¡ç®—å¼•æ“]
        F[FactorAnalyzer<br/>åˆ†æå¼•æ“]
        G[Backtester<br/>å›æµ‹å¼•æ“]
        H[GeneticFactorMiner<br/>å› å­æŒ–æ˜å¼•æ“]
    end

    subgraph "å±•ç¤ºå±‚ Presentation Layer"
        I[Streamlit Web UI]
        J[Plotlyå¯è§†åŒ–]
        K[äº¤äº’å¼å›¾è¡¨]
    end

    D --> E
    E --> F
    E --> G
    E --> H

    F --> I
    G --> I
    H --> I

    I --> J
    J --> K

    style A fill:#ff9999
    style I fill:#99ccff
    style E fill:#99ff99
    style F fill:#ffcc99
    style G fill:#cc99ff
    style H fill:#ff99cc
```

### ğŸ”„ æ•°æ®æµæ¶æ„

```mermaid
graph TD
    subgraph "å¤–éƒ¨æ•°æ®æº External Data Sources"
        A[AKShare API<br/>Aè‚¡å®æ—¶æ•°æ®]
        B[æœ¬åœ°æ–‡ä»¶<br/>CSV/Excel]
        C[æ•°æ®åº“<br/>MySQL/PostgreSQL]
    end

    subgraph "æ•°æ®å¤„ç†ç®¡é“ Data Processing Pipeline"
        D[AKShareDataProvider<br/>æ•°æ®è·å–å™¨]
        E[DataPreprocessor<br/>æ•°æ®é¢„å¤„ç†å™¨]
        F[æ™ºèƒ½ç¼“å­˜ç³»ç»Ÿ<br/>Smart Cache System]
    end

    subgraph "å› å­è®¡ç®—ç³»ç»Ÿ Factor Computing System"
        G[FactorCalculator<br/>å› å­è®¡ç®—å¼•æ“]
        H[FactorLibrary<br/>é¢„ç½®å› å­åº“]
        I[CustomFactorManager<br/>è‡ªå®šä¹‰å› å­ç®¡ç†]
        J[GeneticFactorMiner<br/>å› å­æŒ–æ˜å¼•æ“]
    end

    subgraph "åˆ†æå›æµ‹ç³»ç»Ÿ Analysis & Backtesting"
        K[FactorAnalyzer<br/>å› å­åˆ†æå™¨]
        L[Backtester<br/>å›æµ‹å¼•æ“]
        M[PortfolioAnalyzer<br/>ç»„åˆåˆ†æå™¨]
    end

    subgraph "ç”¨æˆ·ç•Œé¢ User Interface"
        N[Streamlit Web UI<br/>ç”¨æˆ·äº¤äº’ç•Œé¢]
        O[Plotly Charts<br/>å¯è§†åŒ–å›¾è¡¨]
        P[Export Functions<br/>ç»“æœå¯¼å‡º]
    end

    A --> D
    B --> D
    C --> D
    D --> E
    E --> F
    F --> G
    H --> G
    I --> G
    J --> G

    G --> K
    G --> L
    G --> M

    K --> N
    L --> N
    M --> N

    N --> O
    N --> P

    style A fill:#ffcccc
    style D fill:#ccffcc
    style G fill:#ccccff
    style K fill:#ffccff
    style N fill:#ffffcc
```

## ğŸ¯ åº”ç”¨åœºæ™¯

### ğŸ‘¥ ç›®æ ‡ç”¨æˆ·
- **é‡åŒ–ç ”ç©¶å‘˜**: ä¸“ä¸šé‡åŒ–æŠ•èµ„ç ”ç©¶å›¢é˜Ÿ
- **ä¸ªäººæŠ•èµ„è€…**: å…·å¤‡ä¸€å®šé‡åŒ–çŸ¥è¯†çš„ä¸ªäººæŠ•èµ„è€…
- **é‡‘èæœºæ„**: åŸºé‡‘ã€åˆ¸å•†ã€ä¿é™©ç­‰æŠ•èµ„æœºæ„
- **å­¦æœ¯ç ”ç©¶è€…**: é‡‘èå­¦é™¢ã€ç ”ç©¶æ‰€çš„å­¦æœ¯äººå‘˜
- **é‡‘èç§‘æŠ€å¼€å‘è€…**: é‡åŒ–ç³»ç»Ÿå¼€å‘å·¥ç¨‹å¸ˆ

### ğŸ’¼ å…¸å‹åº”ç”¨åœºæ™¯

#### 1. å› å­ç ”ç©¶ä¸å¼€å‘
- **å› å­æœ‰æ•ˆæ€§éªŒè¯**: æµ‹è¯•æ–°å› å­çš„ICã€IRè¡¨ç°
- **å› å­ç»„åˆä¼˜åŒ–**: å¤šå› å­æ¨¡å‹æ„å»ºä¸æƒé‡ä¼˜åŒ–
- **å› å­ç¨³å®šæ€§åˆ†æ**: è·¨å‘¨æœŸã€è·¨å¸‚åœºå› å­è¡¨ç°æ£€éªŒ
- **è‡ªå®šä¹‰å› å­å¼€å‘**: åŸºäºPythonä»£ç çš„å› å­å¿«é€ŸåŸå‹å¼€å‘

#### 2. ç­–ç•¥å›æµ‹ä¸éªŒè¯
- **å¤šç­–ç•¥å¯¹æ¯”**: ä¸åŒç­–ç•¥ç±»å‹çš„é£é™©æ”¶ç›Šç‰¹å¾å¯¹æ¯”
- **å‚æ•°æ•æ„Ÿæ€§åˆ†æ**: ç­–ç•¥å‚æ•°ä¼˜åŒ–ä¸é²æ£’æ€§æ£€éªŒ
- **äº¤æ˜“æˆæœ¬åˆ†æ**: è€ƒè™‘æ»‘ç‚¹ã€æ‰‹ç»­è´¹ç­‰å®é™…äº¤æ˜“æˆæœ¬
- **é£é™©æ§åˆ¶æµ‹è¯•**: æ­¢æŸã€ä»“ä½ç®¡ç†ç­‰é£é™©æ§åˆ¶æªæ–½éªŒè¯

#### 3. æŠ•èµ„ç»„åˆç®¡ç†
- **è¡Œä¸šé…ç½®ä¼˜åŒ–**: åŸºäºå› å­çš„è¡Œä¸šè½®åŠ¨ç­–ç•¥
- **é£æ ¼å› å­é…ç½®**: å¤§å°ç›˜ã€ä»·å€¼æˆé•¿ç­‰é£æ ¼å› å­é…ç½®
- **é£é™©é¢„ç®—ç®¡ç†**: åŸºäºé£é™©æ¨¡å‹çš„æŠ•èµ„ç»„åˆä¼˜åŒ–
- **ç»©æ•ˆå½’å› åˆ†æ**: æŠ•èµ„ç»„åˆæ”¶ç›Šæ¥æºåˆ†è§£

#### 4. å¸‚åœºç ”ç©¶ä¸ç›‘æ§
- **å¸‚åœºé£æ ¼åˆ†æ**: å¸‚åœºä¸»æµé£æ ¼è¯†åˆ«ä¸è·Ÿè¸ª
- **å› å­ä¼°å€¼ç›‘æµ‹**: å„ç±»å› å­çš„ä¼°å€¼æ°´å¹³è·Ÿè¸ª
- **å¼‚å¸¸å› å­æ£€æµ‹**: å› å­è¡¨ç°å¼‚å¸¸çš„åŠæ—¶å‘ç°ä¸é¢„è­¦
- **å®šæœŸæŠ¥å‘Šç”Ÿæˆ**: è‡ªåŠ¨åŒ–çš„ç ”ç©¶åˆ†ææŠ¥å‘Šç”Ÿæˆ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“‹ ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10+, macOS 10.14+, Ubuntu 18.04+
- **Pythonç‰ˆæœ¬**: Python 3.8æˆ–æ›´é«˜ç‰ˆæœ¬
- **å†…å­˜è¦æ±‚**: è‡³å°‘8GB RAMï¼ˆæ¨è16GB+ï¼‰
- **å­˜å‚¨ç©ºé—´**: è‡³å°‘10GBå¯ç”¨ç£ç›˜ç©ºé—´
- **ç½‘ç»œè¦æ±‚**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥ï¼ˆç”¨äºæ•°æ®è·å–ï¼‰

### ğŸ› ï¸ ç¯å¢ƒå®‰è£…

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨è™šæ‹Ÿç¯å¢ƒï¼ˆæ¨èï¼‰
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-username/FactorHub.git
cd FactorHub

# 2. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv factorhub_env

# 3. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows:
factorhub_env\Scripts\activate
# macOS/Linux:
source factorhub_env/bin/activate

# 4. å‡çº§pip
pip install --upgrade pip

# 5. å®‰è£…é¡¹ç›®ä¾èµ–
pip install -r requirements.txt

# æ³¨æ„ï¼šæœ¬é¡¹ç›®ä¸ºè‡ªç ”ç³»ç»Ÿï¼Œä¸ä¾èµ–QLibæ¡†æ¶
# å¦‚éœ€é¢å¤–åŠŸèƒ½ï¼Œå¯é€‰æ‹©æ€§å®‰è£…ï¼š
# pip install qlib  # å¯é€‰ï¼šå¦‚éœ€QLibå…¼å®¹æ€§
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨condaç¯å¢ƒ
```bash
# 1. åˆ›å»ºcondaç¯å¢ƒ
conda create -n qlib_lab python=3.9

# 2. æ¿€æ´»ç¯å¢ƒ
conda activate qlib_lab

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### ğŸ® å¯åŠ¨åº”ç”¨

#### æ–¹å¼1ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èæ–°æ‰‹ï¼‰
```bash
python scripts/start_app.py
```

#### æ–¹å¼2ï¼šä½¿ç”¨ä¸»ç¨‹åº
```bash
python main.py
```

#### æ–¹å¼3ï¼šç›´æ¥ä½¿ç”¨Streamlit
```bash
streamlit run ui/app.py --server.address=0.0.0.0 --server.port=8501
```

#### æ–¹å¼4ï¼šä½¿ç”¨Dockerï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
```bash
# æ„å»ºé•œåƒ
docker build -t qlib-lab .

# è¿è¡Œå®¹å™¨
docker run -p 8501:8501 qlib-lab
```

### ğŸŒ è®¿é—®ç•Œé¢

å¯åŠ¨æˆåŠŸåï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä»¥ä¸‹åœ°å€ï¼š

- **æœ¬åœ°è®¿é—®**: http://localhost:8501
- **å±€åŸŸç½‘è®¿é—®**: http://[ä½ çš„IPåœ°å€]:8501
- **äº‘æœåŠ¡å™¨**: http://[äº‘æœåŠ¡å™¨å…¬ç½‘IP]:8501

> **ğŸ’¡ æç¤º**: å¦‚æœåœ¨äº‘æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œè¯·ç¡®ä¿å®‰å…¨ç»„å·²å¼€æ”¾8501ç«¯å£ã€‚

## ğŸ“š æŠ€æœ¯åŸç†

### ğŸ”¬ å› å­åˆ†æç†è®ºåŸºç¡€

#### ä¿¡æ¯ç³»æ•°ï¼ˆICï¼‰åˆ†æ
**ä¿¡æ¯ç³»æ•°ï¼ˆInformation Coefficientï¼‰**æ˜¯è¡¡é‡å› å­é¢„æµ‹èƒ½åŠ›çš„æ ¸å¿ƒæŒ‡æ ‡ï¼š

```math
IC_t = Corr(F_t, R_{t+1})
```

å…¶ä¸­ï¼š
- `F_t` æ˜¯å› å­åœ¨tæœŸçš„å€¼
- `R_{t+1}` æ˜¯è‚¡ç¥¨åœ¨t+1æœŸçš„æ”¶ç›Šç‡

**ä¿¡æ¯æ¯”ç‡ï¼ˆIRï¼‰**ï¼š
```math
IR = \frac{Mean(IC)}{Std(IC)} \times \sqrt{252}
```

#### åˆ†å±‚å›æµ‹åŸç†
å°†è‚¡ç¥¨æŒ‰ç…§å› å­å€¼åˆ†ä¸ºNå±‚ï¼Œé€šè¿‡æ¯”è¾ƒå„å±‚æ”¶ç›Šè¡¨ç°æ¥è¯„ä¼°å› å­å•è°ƒæ€§ï¼š

1. **æ’åºåˆ†å±‚**: æŒ‰å› å­å€¼å°†è‚¡ç¥¨åˆ†ä¸º10å±‚
2. **æ„å»ºç»„åˆ**: æ¯å±‚ç­‰æƒé‡æ„å»ºæŠ•èµ„ç»„åˆ
3. **æ”¶ç›Šè®¡ç®—**: è®¡ç®—å„å±‚çš„æ”¶ç›Šç‡åºåˆ—
4. **ç»©æ•ˆè¯„ä¼°**: åˆ†æå¤šç©ºæ”¶ç›Šã€å¤æ™®æ¯”ç‡ç­‰æŒ‡æ ‡

#### å› å­ä¸­æ€§åŒ–
æ¶ˆé™¤å› å­ä¸å¸¸è§é£é™©å› å­çš„ç›¸å…³æ€§ï¼š

```math
F^{neutralized} = F - \beta \cdot X
```

å…¶ä¸­ï¼š
- `F` æ˜¯åŸå§‹å› å­å€¼
- `X` æ˜¯ä¸­æ€§åŒ–å› å­ï¼ˆå¸‚å€¼ã€è¡Œä¸šç­‰ï¼‰
- `Î²` æ˜¯å›å½’ç³»æ•°

### ğŸ§¬ å› å­æŒ–æ˜ç®—æ³•

#### é—ä¼ ç®—æ³•ï¼ˆGenetic Algorithmï¼‰
```mermaid
graph TD
    A[åˆå§‹ç§ç¾¤] --> B[é€‚åº”åº¦è¯„ä¼°]
    B --> C[é€‰æ‹©æ“ä½œ]
    C --> D[äº¤å‰æ“ä½œ]
    D --> E[å˜å¼‚æ“ä½œ]
    E --> F[æ–°ä¸€ä»£ç§ç¾¤]
    F --> B
    B --> G{ç»ˆæ­¢æ¡ä»¶}
    G -->|æ˜¯| H[è¾“å‡ºæœ€ä¼˜å› å­]
    G -->|å¦| C
```

**æ ¸å¿ƒæ“ä½œ**ï¼š
- **é€‰æ‹©ï¼ˆSelectionï¼‰**: æŒ‰é€‚åº”åº¦æ¦‚ç‡é€‰æ‹©ä¼˜ç§€ä¸ªä½“
- **äº¤å‰ï¼ˆCrossoverï¼‰**: ä¸¤ä¸ªä¸ªä½“äº¤æ¢åŸºå› äº§ç”Ÿæ–°ä¸ªä½“
- **å˜å¼‚ï¼ˆMutationï¼‰**: éšæœºæ”¹å˜ä¸ªä½“åŸºå› å¢åŠ å¤šæ ·æ€§

#### å› å­ç»„åˆç”Ÿæˆ
åŸºäºæ•°å­¦è¿ç®—ç¬¦ç”Ÿæˆå¤åˆå› å­ï¼š

```
æ–°å› å­ = è¿ç®—ç¬¦(å› å­1, å› å­2, ..., å› å­N)

è¿ç®—ç¬¦ç±»å‹ï¼š
- ç®—æœ¯è¿ç®—: +, -, *, /
- æ¯”è¾ƒè¿ç®—: >, <, =
- é€»è¾‘è¿ç®—: AND, OR, NOT
- ç»Ÿè®¡è¿ç®—: MEAN, STD, RANK
```

### ğŸ“Š å›æµ‹å¼•æ“æ¶æ„

#### äº‹ä»¶é©±åŠ¨å›æµ‹
```mermaid
sequenceDiagram
    participant Market as å¸‚åœºæ•°æ®
    participant Strategy as ç­–ç•¥æ¨¡å—
    participant Portfolio as æŠ•èµ„ç»„åˆ
    participant Risk as é£é™©ç®¡ç†

    loop æ¯ä¸ªäº¤æ˜“æ—¥
        Market->>Strategy: æ–°å¸‚åœºæ•°æ®
        Strategy->>Strategy: ç”Ÿæˆäº¤æ˜“ä¿¡å·
        Strategy->>Portfolio: æäº¤äº¤æ˜“è®¢å•
        Portfolio->>Risk: é£é™©æ£€æŸ¥
        Risk-->>Portfolio: é£é™©æ§åˆ¶ç»“æœ
        Portfolio->>Portfolio: æ‰§è¡Œäº¤æ˜“
        Portfolio->>Strategy: æ›´æ–°ç»„åˆçŠ¶æ€
    end
```

#### ç»©æ•ˆåˆ†ææŒ‡æ ‡
- **æ”¶ç›Šç‡æŒ‡æ ‡**: æ€»æ”¶ç›Šç‡ã€å¹´åŒ–æ”¶ç›Šç‡ã€è¶…é¢æ”¶ç›Šç‡
- **é£é™©æŒ‡æ ‡**: æ³¢åŠ¨ç‡ã€æœ€å¤§å›æ’¤ã€VaRã€CVaR
- **é£é™©è°ƒæ•´æ”¶ç›Š**: å¤æ™®æ¯”ç‡ã€ç´¢æè¯ºæ¯”ç‡ã€å¡å°”ç›æ¯”ç‡
- **äº¤æ˜“æŒ‡æ ‡**: æ¢æ‰‹ç‡ã€äº¤æ˜“æˆæœ¬ã€èƒœç‡

### ğŸ–¥ï¸ ç”¨æˆ·ç•Œé¢è®¾è®¡

#### å“åº”å¼å¸ƒå±€
- **è‡ªé€‚åº”è®¾è®¡**: æ”¯æŒæ¡Œé¢ã€å¹³æ¿ã€æ‰‹æœºå¤šç§è®¾å¤‡
- **ç»„ä»¶åŒ–æ¶æ„**: æ¨¡å—åŒ–çš„UIç»„ä»¶ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•
- **ä¸»é¢˜ç³»ç»Ÿ**: æ˜æš—ä¸»é¢˜åˆ‡æ¢ï¼Œä¿æŠ¤ç”¨æˆ·è§†åŠ›

#### äº¤äº’è®¾è®¡åŸåˆ™
- **å³æ—¶åé¦ˆ**: æ‰€æœ‰æ“ä½œéƒ½æœ‰æ˜ç¡®çš„çŠ¶æ€åé¦ˆ
- **è¿›åº¦æç¤º**: é•¿æ—¶é—´ä»»åŠ¡æ˜¾ç¤ºè¿›åº¦æ¡å’Œé¢„ä¼°æ—¶é—´
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œæ¢å¤å»ºè®®
- **æ“ä½œå¼•å¯¼**: æ–°æ‰‹å¼•å¯¼å’Œå¸®åŠ©æ–‡æ¡£

## ğŸ“– ä½¿ç”¨æŒ‡å—

### ğŸ“Š æ•°æ®è·å–æ¨¡å—

#### åŸºç¡€æ•°æ®è·å–
1. **é€‰æ‹©å¸‚åœºèŒƒå›´**ï¼š
   - æ²ªå¸‚ï¼ˆä¸Šäº¤æ‰€ï¼‰ï¼š6xxxxxè‚¡ç¥¨
   - æ·±å¸‚ï¼ˆæ·±äº¤æ‰€ï¼‰ï¼š0xxxxxã€3xxxxxè‚¡ç¥¨
   - å…¨éƒ¨Aè‚¡ï¼šåŒ…å«æ‰€æœ‰ä¸Šå¸‚è‚¡ç¥¨

2. **é€‰æ‹©è‚¡ç¥¨æ± **ï¼š
   - æ²ªæ·±300ï¼šæ²ªæ·±ä¸¤å¸‚å¸‚å€¼æœ€å¤§çš„300åªè‚¡ç¥¨
   - ä¸­è¯500ï¼šæ²ªæ·±ä¸¤å¸‚ç¬¬301-800åªè‚¡ç¥¨
   - åˆ›ä¸šæ¿ï¼šåˆ›ä¸šæ¿ä¸Šå¸‚è‚¡ç¥¨
   - è‡ªå®šä¹‰ï¼šæ‰‹åŠ¨è¾“å…¥è‚¡ç¥¨ä»£ç åˆ—è¡¨

3. **è®¾ç½®æ—¶é—´å‚æ•°**ï¼š
   - å¼€å§‹æ—¥æœŸï¼šå»ºè®®é€‰æ‹©3å¹´ä»¥ä¸Šå†å²æ•°æ®
   - ç»“æŸæ—¥æœŸï¼šæœ€æ–°äº¤æ˜“æ—¥
   - æ•°æ®é¢‘ç‡ï¼šæ—¥é¢‘ã€å‘¨é¢‘ã€æœˆé¢‘

4. **æ•°æ®è´¨é‡æ£€æŸ¥**ï¼š
   - è‡ªåŠ¨æ£€æµ‹ç¼ºå¤±å€¼
   - å¼‚å¸¸å€¼å¤„ç†
   - å¤æƒæ–¹å¼é€‰æ‹©ï¼ˆå‰å¤æƒã€åå¤æƒã€ä¸å¤æƒï¼‰

### ğŸ”§ å› å­è®¡ç®—æ¨¡å—

#### é¢„ç½®å› å­ä½¿ç”¨
1. **æŠ€æœ¯æŒ‡æ ‡ç±»**ï¼š
   - è¶‹åŠ¿æŒ‡æ ‡ï¼šMACDã€MAã€EMAã€DMA
   - åŠ¨é‡æŒ‡æ ‡ï¼šRSIã€CCIã€ROCã€MOM
   - æˆäº¤é‡æŒ‡æ ‡ï¼šVOLã€OBVã€VRSI
   - æ³¢åŠ¨ç‡æŒ‡æ ‡ï¼šATRã€BOLLã€STD

2. **åŸºæœ¬é¢ç±»**ï¼š
   - ä¼°å€¼æŒ‡æ ‡ï¼šPEã€PBã€PSã€PCF
   - ç›ˆåˆ©æŒ‡æ ‡ï¼šROEã€ROAã€æ¯›åˆ©ç‡ã€å‡€åˆ©ç‡
   - æˆé•¿æŒ‡æ ‡ï¼šè¥æ”¶å¢é•¿ç‡ã€å‡€åˆ©æ¶¦å¢é•¿ç‡

3. **è‡ªå®šä¹‰å› å­**ï¼š
   - Pythonä»£ç ç¼–è¾‘å™¨
   - è¯­æ³•é«˜äº®å’Œé”™è¯¯æç¤º
   - å®æ—¶é¢„è§ˆåŠŸèƒ½

### ğŸ“ˆ å› å­åˆ†ææ¨¡å—

#### ICåˆ†ææ­¥éª¤
1. **é€‰æ‹©å› å­**ï¼šä»å› å­åº“ä¸­é€‰æ‹©è¦åˆ†æçš„å› å­
2. **è®¾ç½®å‚æ•°**ï¼š
   - å›æº¯æœŸï¼šé€šå¸¸ä¸º20ä¸ªäº¤æ˜“æ—¥
   - åˆ†ç»„æ–¹å¼ï¼šç­‰æƒé‡åˆ†ç»„
   - ä¸­æ€§åŒ–å¤„ç†ï¼šå¸‚å€¼ä¸­æ€§åŒ–ã€è¡Œä¸šä¸­æ€§åŒ–
3. **ç»“æœè§£è¯»**ï¼š
   - ICå‡å€¼ï¼šå› å­é¢„æµ‹èƒ½åŠ›çš„å¹³å‡æ°´å¹³
   - ICæ ‡å‡†å·®ï¼šå› å­ç¨³å®šæ€§
   - ICèƒœç‡ï¼šIC>0çš„æ¯”ä¾‹
   - IRæ¯”ç‡ï¼šé£é™©è°ƒæ•´åçš„é¢„æµ‹èƒ½åŠ›

#### åˆ†å±‚å›æµ‹æ­¥éª¤
1. **åˆ†å±‚è®¾ç½®**ï¼š
   - åˆ†å±‚æ•°é‡ï¼šé€šå¸¸ä¸º5å±‚æˆ–10å±‚
   - åˆ†å±‚æ–¹å¼ï¼šç­‰æ ·æœ¬æ•°ã€ç­‰æƒé‡
   - å†å¹³è¡¡é¢‘ç‡ï¼šæ—¥é¢‘ã€å‘¨é¢‘ã€æœˆé¢‘
2. **ç»©æ•ˆæŒ‡æ ‡**ï¼š
   - å„å±‚å¹´åŒ–æ”¶ç›Šç‡
   - å¤šç©ºç»„åˆæ”¶ç›Šç‡
   - å¤æ™®æ¯”ç‡å’Œæœ€å¤§å›æ’¤
   - æ¢æ‰‹ç‡å’Œäº¤æ˜“æˆæœ¬

### ğŸ¯ ç­–ç•¥å›æµ‹æ¨¡å—

#### ç­–ç•¥é…ç½®
1. **å› å­é€‰æ‹©**ï¼šé€‰æ‹©1-5ä¸ªç›¸å…³æ€§è¾ƒä½çš„å› å­
2. **æƒé‡åˆ†é…**ï¼š
   - ç­‰æƒé‡ï¼šæ‰€æœ‰å› å­æƒé‡ç›¸åŒ
   - IRåŠ æƒï¼šæŒ‰ä¿¡æ¯æ¯”ç‡åˆ†é…æƒé‡
   - é£é™©å¹³ä»·ï¼šç­‰é£é™©è´¡çŒ®åˆ†é…
3. **ç»„åˆæ„å»º**ï¼š
   - æŒä»“æ•°é‡ï¼š50-200åªè‚¡ç¥¨
   - å†å¹³è¡¡é¢‘ç‡ï¼šæœˆé¢‘æˆ–å­£é¢‘
   - äº¤æ˜“æˆæœ¬ï¼šä½£é‡‘0.03%ï¼Œæ»‘ç‚¹0.1%

#### é£é™©æ§åˆ¶
1. **æ­¢æŸæœºåˆ¶**ï¼šå•æ—¥äºæŸè¶…è¿‡5%å¼ºåˆ¶å¹³ä»“
2. **ä»“ä½é™åˆ¶**ï¼šå•åªè‚¡ç¥¨æƒé‡ä¸è¶…è¿‡5%
3. **è¡Œä¸šåç¦»**ï¼šç›¸å¯¹äºåŸºå‡†çš„è¡Œä¸šåç¦»ä¸è¶…è¿‡10%

### âš¡ å› å­æŒ–æ˜æ¨¡å—

#### é—ä¼ ç®—æ³•è®¾ç½®
1. **ç§ç¾¤å‚æ•°**ï¼š
   - ç§ç¾¤å¤§å°ï¼š50-100ä¸ªä¸ªä½“
   - è¿­ä»£ä»£æ•°ï¼š20-50ä»£
   - å˜å¼‚æ¦‚ç‡ï¼š0.1-0.3
2. **é€‚åº”åº¦å‡½æ•°**ï¼š
   - ICå‡å€¼ï¼šæƒé‡40%
   - IRæ¯”ç‡ï¼šæƒé‡30%
   - ç¨³å®šæ€§ï¼šæƒé‡20%
   - å¤æ‚åº¦ï¼šæƒé‡10%
3. **ç»“æœç­›é€‰**ï¼š
   - ICå‡å€¼ > 0.05
   - IRæ¯”ç‡ > 0.5
   - æ¢æ‰‹ç‡ < 100%

## ğŸ® ä½¿ç”¨æ–¹æ³•

### ğŸ’» å¿«é€Ÿä¸Šæ‰‹æµç¨‹

#### ç¬¬ä¸€æ­¥ï¼šæ•°æ®å‡†å¤‡
1. **å¯åŠ¨åº”ç”¨**ï¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€FactorHubç•Œé¢
2. **è¿›å…¥æ•°æ®ç®¡ç†**ï¼šç‚¹å‡»ä¾§è¾¹æ "ğŸ“Š æ•°æ®ç®¡ç†"
3. **é€‰æ‹©æ•°æ®èŒƒå›´**ï¼š
   - å¸‚åœºï¼šé€‰æ‹©"å…¨éƒ¨"è·å–å®Œæ•´Aè‚¡æ•°æ®
   - è‚¡ç¥¨æ± ï¼šé€‰æ‹©"æ²ªæ·±300"ä½œä¸ºç¤ºä¾‹
   - æ—¶é—´èŒƒå›´ï¼š2020-01-01 åˆ° 2024-01-01
4. **ä¸‹è½½æ•°æ®**ï¼šç‚¹å‡»"å¼€å§‹è·å–æ•°æ®"æŒ‰é’®
5. **ç­‰å¾…å®Œæˆ**ï¼šè§‚å¯Ÿè¿›åº¦æ¡ï¼Œç­‰å¾…æ•°æ®ä¸‹è½½å®Œæˆ

#### ç¬¬äºŒæ­¥ï¼šå› å­è®¡ç®—
1. **è¿›å…¥å› å­ç®¡ç†**ï¼šç‚¹å‡»ä¾§è¾¹æ "ğŸ”§ å› å­ç®¡ç†"
2. **é€‰æ‹©å› å­**ï¼š
   - å‹¾é€‰"RSI"ï¼ˆç›¸å¯¹å¼ºå¼±æŒ‡æ ‡ï¼‰
   - å‹¾é€‰"MACD"ï¼ˆç§»åŠ¨å¹³å‡æ”¶æ•›å‘æ•£ï¼‰
   - å‹¾é€‰"PE_RATIO"ï¼ˆå¸‚ç›ˆç‡ï¼‰
3. **æ‰¹é‡è®¡ç®—**ï¼šç‚¹å‡»"è®¡ç®—é€‰ä¸­å› å­"æŒ‰é’®
4. **æŸ¥çœ‹ç»“æœ**ï¼šç­‰å¾…è®¡ç®—å®Œæˆï¼ŒæŸ¥çœ‹å› å­ç»Ÿè®¡ä¿¡æ¯

#### ç¬¬ä¸‰æ­¥ï¼šå› å­åˆ†æ
1. **è¿›å…¥å› å­åˆ†æ**ï¼šç‚¹å‡»ä¾§è¾¹æ "ğŸ“ˆ å› å­åˆ†æ"
2. **é€‰æ‹©åˆ†æç›®æ ‡**ï¼šé€‰æ‹©åˆšè®¡ç®—çš„"RSI"å› å­
3. **è®¾ç½®åˆ†æå‚æ•°**ï¼š
   - ICå›æº¯æœŸï¼š20å¤©
   - åˆ†å±‚æ•°é‡ï¼š10å±‚
   - ä¸­æ€§åŒ–ï¼šé€‰æ‹©"å¸‚å€¼ä¸­æ€§åŒ–"
4. **æ‰§è¡Œåˆ†æ**ï¼šç‚¹å‡»"å¼€å§‹åˆ†æ"æŒ‰é’®
5. **æŸ¥çœ‹ç»“æœ**ï¼šåˆ†æå®ŒæˆåæŸ¥çœ‹ICå›¾è¡¨å’Œåˆ†å±‚å›æµ‹ç»“æœ

#### ç¬¬å››æ­¥ï¼šç­–ç•¥å›æµ‹
1. **è¿›å…¥ç­–ç•¥å›æµ‹**ï¼šç‚¹å‡»ä¾§è¾¹æ "ğŸ¯ ç­–ç•¥å›æµ‹"
2. **é…ç½®ç­–ç•¥**ï¼š
   - ç­–ç•¥åç§°ï¼šRSI_MACDç»„åˆç­–ç•¥
   - é€‰æ‹©å› å­ï¼šRSIã€MACD
   - æƒé‡åˆ†é…ï¼šç­‰æƒé‡
   - æŒä»“æ•°é‡ï¼š100åªè‚¡ç¥¨
3. **è®¾ç½®å›æµ‹å‚æ•°**ï¼š
   - å›æµ‹åŒºé—´ï¼š2021-01-01 åˆ° 2024-01-01
   - åˆå§‹èµ„é‡‘ï¼š100ä¸‡
   - äº¤æ˜“æˆæœ¬ï¼š0.3%
4. **æ‰§è¡Œå›æµ‹**ï¼šç‚¹å‡»"å¼€å§‹å›æµ‹"æŒ‰é’®
5. **åˆ†æç»“æœ**ï¼šæŸ¥çœ‹å›æµ‹æŠ¥å‘Šå’Œç»©æ•ˆæŒ‡æ ‡

### ğŸ”§ é«˜çº§åŠŸèƒ½ä½¿ç”¨

#### è‡ªå®šä¹‰å› å­å¼€å‘
1. **åœ¨å› å­ç®¡ç†é¡µé¢ç‚¹å‡»"è‡ªå®šä¹‰å› å­"**
2. **ç¼–å†™å› å­ä»£ç **ï¼š
```python
def custom_momentum_factor(data, window=20):
    """
    è‡ªå®šä¹‰åŠ¨é‡å› å­ï¼š20æ—¥æ”¶ç›Šç‡é™¤ä»¥æ³¢åŠ¨ç‡
    """
    # è®¡ç®—20æ—¥æ”¶ç›Šç‡
    returns = data['close'].pct_change(window)

    # è®¡ç®—20æ—¥æ³¢åŠ¨ç‡
    volatility = data['close'].pct_change().rolling(window).std()

    # åŠ¨é‡å› å­ = æ”¶ç›Šç‡ / æ³¢åŠ¨ç‡
    momentum_factor = returns / volatility

    return momentum_factor.fillna(0)
```
3. **æµ‹è¯•å’Œä¿å­˜**ï¼šç‚¹å‡»"æµ‹è¯•å› å­"éªŒè¯ä»£ç æ­£ç¡®æ€§

#### å› å­æŒ–æ˜è‡ªåŠ¨åŒ–
1. **è¿›å…¥å› å­æŒ–æ˜é¡µé¢**ï¼šç‚¹å‡»ä¾§è¾¹æ "âš¡ å› å­æŒ–æ˜"
2. **é€‰æ‹©æŒ–æ˜æ–¹æ³•**ï¼šé€‰æ‹©"é—ä¼ ç®—æ³•"
3. **è®¾ç½®å‚æ•°**ï¼š
   - ç§ç¾¤å¤§å°ï¼š50
   - è¿­ä»£ä»£æ•°ï¼š30
   - ç›®æ ‡å› å­æ•°é‡ï¼š10
4. **å¼€å§‹æŒ–æ˜**ï¼šç‚¹å‡»"å¼€å§‹å› å­æŒ–æ˜"
5. **ç»“æœåˆ†æ**ï¼šæŒ–æ˜å®ŒæˆåæŸ¥çœ‹å‘ç°çš„æ–°å› å­æ’å

### ğŸ“± ç•Œé¢æ“ä½œæŠ€å·§

#### å¯¼èˆªæŠ€å·§
- **ä¾§è¾¹æ å¯¼èˆª**ï¼šä½¿ç”¨å·¦ä¾§å¯¼èˆªæ å¿«é€Ÿåˆ‡æ¢åŠŸèƒ½æ¨¡å—
- **è¿›åº¦ç›‘æ§**ï¼šé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ä¼šæ˜¾ç¤ºè¿›åº¦æ¡å’Œé¢„ä¼°å®Œæˆæ—¶é—´
- **çŠ¶æ€æç¤º**ï¼šæ‰€æœ‰æ“ä½œéƒ½æœ‰æ˜ç¡®çš„æˆåŠŸ/å¤±è´¥æç¤º

#### æ•°æ®å¯è§†åŒ–
- **å›¾è¡¨äº¤äº’**ï¼šæ”¯æŒç¼©æ”¾ã€å¹³ç§»ã€æ•°æ®ç‚¹æ‚¬åœæŸ¥çœ‹è¯¦æƒ…
- **æ•°æ®å¯¼å‡º**ï¼šæ”¯æŒå°†åˆ†æç»“æœå¯¼å‡ºä¸ºCSVã€Excelæ ¼å¼
- **æŠ¥å‘Šç”Ÿæˆ**ï¼šä¸€é”®ç”ŸæˆPDFæ ¼å¼çš„ç ”ç©¶æŠ¥å‘Š

#### é…ç½®ç®¡ç†
- **å‚æ•°ä¿å­˜**ï¼šå¸¸ç”¨å‚æ•°ç»„åˆå¯ä»¥ä¿å­˜ä¸ºé…ç½®æ¨¡æ¿
- **å†å²è®°å½•**ï¼šè‡ªåŠ¨ä¿å­˜æ“ä½œå†å²ï¼Œæ”¯æŒç»“æœå›æº¯
- **ç¼“å­˜ç®¡ç†**ï¼šå¯æŸ¥çœ‹å’Œç®¡ç†ç¼“å­˜æ•°æ®ï¼Œæ¸…ç†è¿‡æœŸç¼“å­˜

## ğŸ’¡ ç¤ºä¾‹æ¼”ç¤º

### ç¤ºä¾‹1: åŸºæœ¬å› å­åˆ†ææµç¨‹
<details>
<summary>ğŸ“– ç‚¹å‡»å±•å¼€è¯¦ç»†ä»£ç ç¤ºä¾‹</summary>

```python
# å¯¼å…¥FactorHubæ ¸å¿ƒæ¨¡å—
from data_processor.akshare_data import AKShareDataProvider
from factor_manager.factor_calculator import FactorCalculator
from analyzer.factor_analyzer import FactorAnalyzer
import pandas as pd

# 1. è·å–è‚¡ç¥¨æ•°æ®
print("ğŸ”„ æ­£åœ¨è·å–æ•°æ®...")
data_provider = AKShareDataProvider()
data = data_provider.get_multiple_stocks_data(
    symbols=['000001', '000002', '000858'],  # å¹³å®‰é“¶è¡Œã€ä¸‡ç§‘Aã€äº”ç²®æ¶²
    start_date='2020-01-01',
    end_date='2023-12-31'
)

print(f"âœ… æ•°æ®è·å–å®Œæˆï¼Œå…±{len(data)}æ¡è®°å½•")
print(f"ğŸ“Š åŒ…å«è‚¡ç¥¨: {data['symbol'].unique().tolist()}")

# 2. è®¡ç®—RSIå› å­ï¼ˆä½¿ç”¨è‡ªç ”å› å­è®¡ç®—å¼•æ“ï¼‰
print("ğŸ”§ æ­£åœ¨è®¡ç®—RSIå› å­...")
calculator = FactorCalculator()
factor_data = calculator.calculate_single_factor('RSI', data)

if not factor_data.empty:
    print(f"âœ… RSIå› å­è®¡ç®—å®Œæˆï¼Œæœ‰æ•ˆæ•°æ®: {len(factor_data)}æ¡")

    # 3. ICåˆ†æï¼ˆä¿¡æ¯ç³»æ•°åˆ†æï¼‰
    print("ğŸ“ˆ æ­£åœ¨è¿›è¡ŒICåˆ†æ...")
    analyzer = FactorAnalyzer()

    # é¦–å…ˆè®¡ç®—æ”¶ç›Šç‡åˆ—
    factor_data['return_20d'] = factor_data.groupby('symbol')['close'].pct_change(20).shift(-20)

    ic_results = analyzer.calculate_ic_analysis(
        factor_data,
        'RSI',
        return_col='return_20d',
        method='spearman'
    )

    if 'error' not in ic_results:
        print(f"ğŸ“Š ICåˆ†æç»“æœ:")
        print(f"   ICå‡å€¼: {ic_results['ic_mean']:.4f}")
        print(f"   ICæ ‡å‡†å·®: {ic_results['ic_std']:.4f}")
        print(f"   ICèƒœç‡: {ic_results['ic_win_rate']:.2%}")
        print(f"   IRæ¯”ç‡: {ic_results['ir_ratio']:.4f}")
        print(f"   æ­£ICå¤©æ•°: {ic_results['positive_ic_days']}")
        print(f"   æ€»å¤©æ•°: {ic_results['total_days']}")
    else:
        print(f"âŒ ICåˆ†æå¤±è´¥: {ic_results['error']}")

    # 4. å› å­ç»Ÿè®¡æ‘˜è¦
    print("ğŸ“‹ å› å­ç»Ÿè®¡æ‘˜è¦:")
    summary = calculator.get_factor_summary(factor_data, 'RSI')
    if 'error' not in summary:
        print(f"   å› å­åç§°: {summary['factor_name']}")
        print(f"   æ•°æ®èŒƒå›´: {summary['date_range']['start']} è‡³ {summary['date_range']['end']}")
        print(f"   è‚¡ç¥¨æ•°é‡: {summary['symbol_count']}")
        print(f"   æœ‰æ•ˆæ•°æ®: {summary['valid_count']:,} æ¡")
        print(f"   ç¼ºå¤±ç‡: {summary['missing_rate']:.2%}")
        print(f"   å‡å€¼: {summary['mean']:.4f}")
        print(f"   æ ‡å‡†å·®: {summary['std']:.4f}")
        print(f"   æœ€å°å€¼: {summary['min']:.4f}")
        print(f"   æœ€å¤§å€¼: {summary['max']:.4f}")
else:
    print("âŒ RSIå› å­è®¡ç®—å¤±è´¥")

print("\nğŸ‰ ç¤ºä¾‹åˆ†æå®Œæˆï¼")
print("ğŸ’¡ æç¤º: ä½¿ç”¨FactorHub Webç•Œé¢å¯ä»¥è·å¾—æ›´ä¸°å¯Œçš„å¯è§†åŒ–åˆ†æç»“æœ")
```
</details>

### ç¤ºä¾‹2: å¤šå› å­ç­–ç•¥å›æµ‹
<details>
<summary>ğŸ“– ç‚¹å‡»å±•å¼€è¯¦ç»†ä»£ç ç¤ºä¾‹</summary>

```python
# å¯¼å…¥FactorHubå›æµ‹æ¨¡å—
from data_processor.akshare_data import AKShareDataProvider
from factor_manager.factor_calculator import FactorCalculator
from backtester.backtester import Backtester
from backtester.factor_strategy import FactorStrategy
import pandas as pd
import numpy as np

# 1. æ•°æ®å‡†å¤‡
print("ğŸ“Š å‡†å¤‡å›æµ‹æ•°æ®...")
data_provider = AKShareDataProvider()
data = data_provider.get_multiple_stocks_data(
    symbols=['000001', '000002', '000858', '002415', '600036'],  # å¹³å®‰é“¶è¡Œã€ä¸‡ç§‘Aã€äº”ç²®æ¶²ã€æµ·åº·å¨è§†ã€æ‹›å•†é“¶è¡Œ
    start_date='2020-01-01',
    end_date='2023-12-31'
)

print(f"âœ… æ•°æ®å‡†å¤‡å®Œæˆ: {len(data)}æ¡è®°å½•ï¼Œ{data['symbol'].nunique()}åªè‚¡ç¥¨")

# 2. æ‰¹é‡è®¡ç®—å› å­ï¼ˆä½¿ç”¨è‡ªç ”å¹¶è¡Œè®¡ç®—å¼•æ“ï¼‰
print("âš™ï¸ è®¡ç®—å¤šå› å­æ•°æ®...")
calculator = FactorCalculator()
factor_names = ['RSI', 'MACD', 'MA5', 'MA20']  # ä½¿ç”¨é¢„ç½®å› å­
factor_data = calculator.calculate_multiple_factors(
    factor_names=factor_names,
    data=data,
    parallel=True  # å¯ç”¨å¹¶è¡Œè®¡ç®—
)

print(f"âœ… å› å­è®¡ç®—å®Œæˆï¼ŒåŒ…å«å› å­: {[col for col in factor_data.columns if col in factor_names]}")

# 3. åˆ›å»ºå› å­ç­–ç•¥ï¼ˆä½¿ç”¨è‡ªç ”ç­–ç•¥æ¡†æ¶ï¼‰
print("ğŸ¯ æ„å»ºå¤šå› å­ç­–ç•¥...")
strategy = FactorStrategy(
    name='RSI_MACD_MAç»„åˆç­–ç•¥',
    factor_names=factor_names,
    factor_weights={
        'RSI': 0.4,    # ç›¸å¯¹å¼ºå¼±æŒ‡æ ‡æƒé‡
        'MACD': 0.3,   # MACDæŒ‡æ ‡æƒé‡
        'MA5': 0.15,   # 5æ—¥å‡çº¿æƒé‡
        'MA20': 0.15   # 20æ—¥å‡çº¿æƒé‡
    },
    top_percent=0.4,           # é€‰æ‹©å› å­ç»¼åˆè¯„åˆ†å‰40%çš„è‚¡ç¥¨
    rebalance_frequency='monthly',  # æœˆåº¦è°ƒä»“
    long_only=True             # åªåšå¤š
)

# 4. æ‰§è¡Œå›æµ‹ï¼ˆä½¿ç”¨è‡ªç ”äº‹ä»¶é©±åŠ¨å›æµ‹å¼•æ“ï¼‰
print("ğŸš€ å¼€å§‹ç­–ç•¥å›æµ‹...")
backtester = Backtester(
    initial_capital=1000000,  # 100ä¸‡åˆå§‹èµ„é‡‘
    commission=0.0003,        # ä¸‡åˆ†ä¹‹ä¸‰æ‰‹ç»­è´¹
    slippage=0.001,           # åƒåˆ†ä¹‹ä¸€æ»‘ç‚¹
    benchmark="000300"        # æ²ªæ·±300ä½œä¸ºåŸºå‡†
)

# è®¡ç®—ç›®æ ‡æ”¶ç›Šç‡
factor_data['return_1d'] = factor_data.groupby('symbol')['close'].pct_change(1)

results = backtester.run_backtest(
    strategy=strategy,
    data=factor_data,
    start_date='2021-01-01',
    end_date='2023-12-31'
)

# 5. åˆ†æå›æµ‹ç»“æœ
if 'error' not in results:
    print("ğŸ“ˆ å›æµ‹ç»“æœåˆ†æ:")
    print(f"   æ€»æ”¶ç›Šç‡: {results.get('total_return', 0):.2%}")
    print(f"   å¹´åŒ–æ”¶ç›Šç‡: {results.get('annual_return', 0):.2%}")
    print(f"   å¹´åŒ–æ³¢åŠ¨ç‡: {results.get('annual_volatility', 0):.2%}")
    print(f"   å¤æ™®æ¯”ç‡: {results.get('sharpe_ratio', 0):.4f}")
    print(f"   æœ€å¤§å›æ’¤: {results.get('max_drawdown', 0):.2%}")
    print(f"   èƒœç‡: {results.get('win_rate', 0):.2%}")
    print(f"   äº¤æ˜“æ¬¡æ•°: {results.get('total_trades', 0)}")
    print(f"   å¹³å‡æ¢æ‰‹ç‡: {results.get('avg_turnover', 0):.2%}")

    # 6. é£é™©æŒ‡æ ‡åˆ†æ
    print("ğŸ¯ é£é™©æŒ‡æ ‡:")
    print(f"   VaR(95%): {results.get('var_95', 0):.2%}")
    print(f"   æœ€å¤§è¿ç»­äºæŸ: {results.get('max_consecutive_losses', 0)} å¤©")
    print(f"   å¡å°”ç›æ¯”ç‡: {results.get('calmar_ratio', 0):.4f}")
else:
    print(f"âŒ å›æµ‹å¤±è´¥: {results['error']}")

print("\nğŸ‰ ç­–ç•¥å›æµ‹å®Œæˆï¼")
print("ğŸ’¡ æç¤º: FactorHub Webç•Œé¢æä¾›æ›´è¯¦ç»†çš„å›æµ‹æŠ¥å‘Šå’Œå¯è§†åŒ–å›¾è¡¨")
```
</details>

### ç¤ºä¾‹3: é—ä¼ ç®—æ³•å› å­æŒ–æ˜
<details>
<summary>ğŸ“– ç‚¹å‡»å±•å¼€è¯¦ç»†ä»£ç ç¤ºä¾‹</summary>

```python
# å¯¼å…¥FactorHubå› å­æŒ–æ˜æ¨¡å—
from data_processor.akshare_data import AKShareDataProvider
from factor_manager.factor_calculator import FactorCalculator
from factor_miner.genetic_miner import GeneticFactorMiner
from factor_miner.factor_generator import FactorGenerator
import pandas as pd
import numpy as np

# 1. å‡†å¤‡æŒ–æ˜æ•°æ®
print("ğŸ“Š å‡†å¤‡å› å­æŒ–æ˜æ•°æ®...")
data_provider = AKShareDataProvider()
data = data_provider.get_multiple_stocks_data(
    symbols=['000001', '000002', '000858', '002415', '600036', '600519'],  # 6åªä»£è¡¨æ€§è‚¡ç¥¨
    start_date='2020-01-01',
    end_date='2023-12-31'
)

print(f"âœ… æ•°æ®å‡†å¤‡å®Œæˆ: {len(data)}æ¡è®°å½•ï¼Œ{data['symbol'].nunique()}åªè‚¡ç¥¨")

# 2. è®¡ç®—åŸºç¡€å› å­æ± 
print("ğŸ”§ è®¡ç®—åŸºç¡€å› å­æ± ...")
calculator = FactorCalculator()
base_factors = ['RSI', 'MACD', 'MA5', 'MA20', 'VOL', 'STD']  # ä½¿ç”¨é¢„ç½®å› å­
factor_data = calculator.calculate_multiple_factors(base_factors, data)

print(f"âœ… åŸºç¡€å› å­è®¡ç®—å®Œæˆ: {base_factors}")

# 3. è®¡ç®—ç›®æ ‡æ”¶ç›Šç‡ï¼ˆ20æ—¥è¿œæœŸæ”¶ç›Šç‡ï¼‰
print("ğŸ“ˆ è®¡ç®—ç›®æ ‡æ”¶ç›Šç‡...")
factor_data['forward_return_20d'] = factor_data.groupby('symbol')['close'].pct_change(20).shift(-20)

# æ¸…ç†æ•°æ®
factor_data = factor_data.dropna(subset=['forward_return_20d'] + base_factors)
print(f"âœ… æœ‰æ•ˆæ•°æ®æ ·æœ¬: {len(factor_data)}æ¡")

# 4. é…ç½®é—ä¼ ç®—æ³•æŒ–æ˜å™¨ï¼ˆä½¿ç”¨è‡ªç ”ç®—æ³•ï¼‰
print("ğŸ§¬ é…ç½®é—ä¼ ç®—æ³•å‚æ•°...")
miner = GeneticFactorMiner(
    population_size=30,      # ç§ç¾¤å¤§å°
    generations=15,          # è¿­ä»£ä»£æ•°
    mutation_rate=0.15,      # å˜å¼‚ç‡
    crossover_rate=0.7,      # äº¤å‰ç‡
    elitism_rate=0.1,        # ç²¾è‹±ä¿ç•™æ¯”ä¾‹
    max_complexity=3         # æœ€å¤§å› å­å¤æ‚åº¦
)

print(f"ğŸ“‹ æŒ–æ˜å‚æ•°:")
print(f"   ç§ç¾¤å¤§å°: {miner.population_size}")
print(f"   è¿­ä»£ä»£æ•°: {miner.generations}")
print(f"   å˜å¼‚ç‡: {miner.mutation_rate}")
print(f"   äº¤å‰ç‡: {miner.crossover_rate}")

# 5. æ‰§è¡Œå› å­æŒ–æ˜
print("âš¡ å¼€å§‹é—ä¼ ç®—æ³•å› å­æŒ–æ˜...")
print("ğŸ”„ è¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…...")

mined_factors = miner.mine_factors(
    data=factor_data,
    returns=factor_data['forward_return_20d'],
    target_count=5   # ç›®æ ‡å‘ç°5ä¸ªä¼˜è´¨å› å­
)

# 6. åˆ†ææŒ–æ˜ç»“æœ
if mined_factors:
    print("ğŸ‰ å› å­æŒ–æ˜å®Œæˆï¼å‘ç°ä»¥ä¸‹ä¼˜è´¨å› å­:")

    for i, factor in enumerate(mined_factors, 1):
        print(f"\nğŸ† å› å­ #{i}: {factor.name}")
        print(f"   ğŸ“ è¡¨è¾¾å¼: {factor.expression}")
        print(f"   ğŸ“Š é€‚åº”åº¦: {factor.fitness:.4f}")
        print(f"   ğŸ¯ ä»£æ•°: ç¬¬{factor.generation}ä»£")

        # è®¡ç®—å› å­ç»Ÿè®¡
        if hasattr(factor, 'factor_values') and not factor.factor_values.empty:
            ic_mean = factor.factor_values.corr(factor_data['forward_return_20d'])
            print(f"   ğŸ“ˆ ICå‡å€¼: {ic_mean:.4f}")

            # ICèƒœç‡
            daily_ic = factor_data.groupby('date').apply(
                lambda x: factor.factor_values.loc[x.index].corr(x['forward_return_20d'])
            )
            ic_win_rate = (daily_ic > 0).mean()
            print(f"   ğŸ¯ ICèƒœç‡: {ic_win_rate:.2%}")

            # æ¢æ‰‹ç‡ä¼°ç®—
            rank_changes = factor.factor_values.rank().pct_change().abs().mean()
            turnover = rank_changes * 2  # ç²—ç•¥ä¼°ç®—
            print(f"   ğŸ”„ æ¢æ‰‹ç‡: {turnover:.2%}")
else:
    print("âŒ æœªå‘ç°æœ‰æ•ˆçš„å› å­")

print("\nğŸ’¡ æŒ–æ˜è¯´æ˜:")
print("   - é—ä¼ ç®—æ³•é€šè¿‡é€‰æ‹©ã€äº¤å‰ã€å˜å¼‚æ“ä½œä¼˜åŒ–å› å­è¡¨è¾¾å¼")
print("   - é€‚åº”åº¦å‡½æ•°ç»¼åˆè€ƒé‡ICå‡å€¼ã€ç¨³å®šæ€§ã€æ¢æ‰‹ç‡ç­‰æŒ‡æ ‡")
print("   - å‘ç°çš„å› å­å¯ä»¥ç›´æ¥ç”¨äºç­–ç•¥æ„å»ºå’Œè¿›ä¸€æ­¥åˆ†æ")
print("   - å»ºè®®åœ¨Webç•Œé¢ä¸­ä½¿ç”¨å› å­æŒ–æ˜åŠŸèƒ½è·å¾—æ›´å¥½çš„ä½“éªŒ")

# 7. å› å­éªŒè¯ï¼ˆå¯é€‰ï¼‰
if mined_factors:
    print("\nğŸ” å› å­éªŒè¯:")
    best_factor = mined_factors[0]
    print(f"æœ€ä½³å› å­: {best_factor.name}")
    print(f"è¡¨è¾¾å¼: {best_factor.expression}")
    print("âœ… å¯åœ¨å› å­ç®¡ç†é¡µé¢è¿›ä¸€æ­¥éªŒè¯è¯¥å› å­çš„æœ‰æ•ˆæ€§")
```
</details>

## é…ç½®è¯´æ˜

### æ•°æ®é…ç½®
```python
DEFAULT_CONFIG = {
    "data": {
        "default_start_date": "2020-01-01",
        "default_end_date": "2023-12-31",
        "frequency": "daily",
        "adjust_type": "qfq",
    }
}
```

### å›æµ‹é…ç½®
```python
DEFAULT_CONFIG = {
    "backtest": {
        "commission": 0.0003,
        "slippage": 0.001,
        "rebalance_frequency": "monthly",
    }
}
```

## æ€§èƒ½ä¼˜åŒ–

### å¹¶è¡Œè®¡ç®—
- å› å­è®¡ç®—æ”¯æŒå¤šè¿›ç¨‹å¹¶è¡Œ
- è‡ªåŠ¨æ£€æµ‹CPUæ ¸å¿ƒæ•°
- ä»»åŠ¡è´Ÿè½½å‡è¡¡åˆ†é…

### ç¼“å­˜æœºåˆ¶
- æ•°æ®è·å–ç»“æœç¼“å­˜
- å› å­è®¡ç®—ç»“æœç¼“å­˜
- åˆ†æç»“æœç¼“å­˜

### å†…å­˜ç®¡ç†
- åˆ†æ‰¹å¤„ç†å¤§æ•°æ®é›†
- åŠæ—¶é‡Šæ”¾ä¸­é—´ç»“æœ
- å¯é…ç½®å†…å­˜é™åˆ¶

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æ•°æ®è·å–å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - ç¡®è®¤è‚¡ç¥¨ä»£ç æ ¼å¼
   - æŸ¥çœ‹AKShareæ¥å£çŠ¶æ€

2. **å› å­è®¡ç®—é”™è¯¯**
   - æ£€æŸ¥æ•°æ®å®Œæ•´æ€§
   - ç¡®è®¤å› å­åç§°æ­£ç¡®
   - æŸ¥çœ‹é”™è¯¯æ—¥å¿—

3. **å›æµ‹ç»“æœå¼‚å¸¸**
   - æ£€æŸ¥æ—¶é—´èŒƒå›´
   - ç¡®è®¤ç­–ç•¥å‚æ•°
   - éªŒè¯æ•°æ®æ ¼å¼

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/app.log

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error.log
```

## æ‰©å±•å¼€å‘

### æ·»åŠ æ–°å› å­
```python
class CustomFactor(BaseFactor):
    def calculate(self, data):
        # å®ç°å› å­è®¡ç®—é€»è¾‘
        return factor_values

# æ³¨å†Œå› å­
factor_lib.add_factor(CustomFactor("Custom", "è‡ªå®šä¹‰å› å­"))
```

### æ·»åŠ æ–°ç­–ç•¥
```python
class CustomStrategy(BaseStrategy):
    def generate_signals(self, data, date):
        # å®ç°ä¿¡å·ç”Ÿæˆé€»è¾‘
        return signals
```

### æ·»åŠ æ–°åˆ†æ
```python
def custom_analysis(self, factor_data, factor_name):
    # å®ç°è‡ªå®šä¹‰åˆ†æé€»è¾‘
    return results
```

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ï¼Œè¯¦è§LICENSEæ–‡ä»¶ã€‚

## è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®ä¸»é¡µ: <repository-url>
- é—®é¢˜åé¦ˆ: <issues-url>
- é‚®ç®±: <contact-email>

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç ”ç©¶ç›®çš„ï¼Œä¸æ„æˆæŠ•èµ„å»ºè®®ã€‚ä½¿ç”¨æœ¬å·¥å…·è¿›è¡Œå®ç›˜äº¤æ˜“çš„é£é™©ç”±ç”¨æˆ·è‡ªè¡Œæ‰¿æ‹…ã€‚